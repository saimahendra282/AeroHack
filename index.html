<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Rubik Cube</title>
  <link href='http://fonts.googleapis.com/css?family=Alegreya+Sans+SC' rel='stylesheet' type='text/css'>
  <link href="style.css" rel="stylesheet">
</head>

<body>

  <a href="https://github.com/jwhitfieldseed/rubik-js"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>

  <ul id="controls">
    <li><a href="#shuffle" id="button-shuffle">Shuffle</a></li>
    <li><a href="#solve" id="button-solve">Solve</a></li>
    <li><a href="#undo" id="button-undo">Undo</a></li>
    <li><a href="#reset" id="button-reset">Reset</a></li>
    <li><a href="#algo-solve" id="button-algo-solve">Algo Solve</a></li>
    <li>
      <label>Size</label>
      <select id="select-size">
        <option value="2">2x2</option>
        <option value="3" selected>3x3</option>
        <option value="4">4x4</option>
        <option value="5">5x5</option>
        <option value="6">6x6</option>
      </select>
    </li>
  </ul>

  <div id="scene"></div>

  <script src="lib/jquery-2.0.3.js"></script>
  <script src="lib/three.js"></script>
  <script src="algo.js"></script>
  <script src="lib/OrbitControls.js"></script>
  <script src='lib/threex.domevent.js'></script>
  <script src='lib/threex.domevent.object3d.js'></script>
  <script src="rubik.js"></script>

  <script>
    $(function() {
      function init(dimensions) {
        dimensions = +(dimensions) || 3;
        var element = $("#scene").empty();
        // Make rubik accessible globally for algo.js
        window.rubik = new Rubik(element, dimensions);

        $("#button-shuffle").off().on('click', function(e) { e.preventDefault(); window.rubik.shuffle(); });
        $("#button-solve").off().on('click', function(e) { e.preventDefault(); window.rubik.solve(); });
        $("#button-undo").off().on('click', function(e) { e.preventDefault(); window.rubik.undo(); });
        $("#button-reset").off().on('click', function(e) { e.preventDefault(); init(); });
        $("#select-size").off().on('change', function() { init($(this).val()) });
        $("#button-algo-solve").off().on('click', function(e) {
          e.preventDefault();
          if (window.rubik && window.algoSolve) {
            window.algoSolve(window.rubik);
          } else {
            alert('Algorithm module or Rubik instance not found!');
          }
        });
      }
      init();
    });
  </script>
</body>

</html>